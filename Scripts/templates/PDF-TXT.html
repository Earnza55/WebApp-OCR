<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Scan</title>

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <link href="css/style.css" rel="stylesheet">
    <style>
      #viewImagePopup {
          background-color: var(--background-color);
          padding: 20px;
          box-shadow: 0 0 10px var(--box-shadow-color);
          display: none;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          z-index: 1000;
      }
    
      #viewImagePopup img {
          max-width: 100%;
      }
    
      #viewImagePopup button {
          background-color: var(--primary-color);
          color: var(--text-color);
          padding: 10px;
          border: none;
          cursor: pointer;
      }

      #viewImagePopup {
      background-color: var(--background-color);
      padding: 20px;
      box-shadow: 0 0 10px var(--box-shadow-color);
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }

    #viewImagePopup img {
      max-width: 100%;
    }

    #viewImagePopup button {
      background-color: var(--primary-color);
      color: var(--text-color);
      padding: 10px;
      border: none;
      cursor: pointer;
    }
    </style>
</head>

<body>


 <!-- ======= Header ======= -->
 <header id="header" class="d-flex align-items-center">
  <div class="container d-flex align-items-center justify-content-between">

    <h1 class="logo"><a href="index.html">Medical Scan<span></span></a></h1>
    <nav id="navbar" class="navbar">
      <ul>
        <li><a class="nav-link scrollto active" href="index.html"> Home </a></li>
        <li><a class="nav-link scrollto" href="support.html"> Support</a></li>
        <li><a class="nav-link scrollto" href="feedback.html"> Feedback </a></li>
        <li><a class="nav-link scrollto " href="product.html">Product</a></li>
      </ul>
      <i class="bi bi-list mobile-nav-toggle"></i>
    </nav><!-- .navbar -->

  </div>
</header><!-- End Header -->

</div>

<main id="main">
  <!-- <div id="showLatestImage" style="margin-top: 10px;"></div> -->
<div style="width: 500px; height: 526px; left: 864px; top: 344px; position: absolute">
  
  <div style="width: 500px; height: 526px; left: 0px; top: 0px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 12px; border: 3px #439A97 dotted"></div>
    <div style="width: 141px; height: 37px; left: 171px; top: 250px; position: absolute; text-align: center; color: #62B6B7; font-size: 32px; font-family: Roboto; font-weight: 400; word-wrap: break-word">Output</div>
</div>
<div style="left: 709px; top: 125px; position: absolute; text-align: center; color: black; font-size: 40px; font-family: Roboto; font-weight: 500; word-wrap: break-word">PDF To Text</div>

<!-- ======= Submit ======= -->
<div style="width: 170px; height: 60px; left: 459px; top: 631px; position: absolute">
  <div style="width: 170px; height: 60px; left: 0px; top: 0px; position: absolute; background: #62B6B7; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.50); border-radius: 6px"></div>
  <div onclick="uploadAndShowImage()" style="cursor: pointer; left: 48px; top: 15px; position: absolute; text-align: center; color: white; font-size: 24px; font-family: Roboto; font-weight: 400; word-wrap: break-word">Submit</div>
</div>
<!-- End Submit -->

<div style="width: 500px; height: 256px; left: 294px; top: 344px; position: absolute">
    <div style="width: 500px; height: 256px; left: 0px; top: 0px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 12px; border: 3px #62B6B7 dotted"></div>
    <img style="width: 106px; height: 105px; left: 197px; top: 57px; position: absolute; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0) inset" src="assets/img/pres-1.png" />
 

  <!-- ======= Upload ======= -->
  <div style="width: 149.12px; height: 43.86px; left: 175.44px; top: 178.95px; position: absolute">
        <div style="width: 149.12px; height: 43.86px; left: 0px; top: 0px; position: absolute">
          
            <div  style="width: 149.12px; height: 43.86px; left: 0px; top: 0px; position: absolute; background: #F8F6F4; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.50); border-radius: 6px"></div>
   <div onclick="showUploadPopup()" style="cursor: pointer; width: 88.60px; height: 18.42px; left: 29.82px; top: 9.65px; position: absolute; text-align: center; color: #439A97; font-size: 24px; font-family: Roboto; font-weight: 400; word-wrap: break-word">Upload</div></div>
        <img style="width: 28.07px; height: 28.07px; left: 7.89px; top: 7.89px; position: absolute; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25)" src="assets/img/upload-1.png" />
        <label for="fileInput" style="cursor: pointer; width: 88.60px; height: 18.42px; left: 29.82px; top: 9.65px; position: absolute; text-align: center; color: #439A97; font-size: 24px; font-family: Roboto; font-weight: 400; word-wrap: break-word">Upload</label>
        <input type="file" id="fileInput" style="display: none;" onchange="handleFileSelect()">
        <!-- <div id="latestImage" style="margin-top: 10px;"> -->
    </div></button>
</div>

<!-- เพิ่มปุ่มสำหรับดูรูปภาพ -->
<div style="width: 170px; height: 60px; left: 659px; top: 631px; position: absolute">
  <div style="width: 170px; height: 60px; left: 0px; top: 0px; position: absolute; background: #62B6B7; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.50); border-radius: 6px"></div>
  <div onclick="showUploadedImage()" style="cursor: pointer; left: 48px; top: 15px; position: absolute; text-align: center; color: white; font-size: 24px; font-family: Roboto; font-weight: 400; word-wrap: break-word">View</div>
</div>
<!-- ส่วน Popup สำหรับแสดงรูปภาพ -->
<div id="viewImagePopup" style="display: none;">
  <button onclick="closeViewImagePopup()">Close</button>
  <div id="uploadedImageContainer"></div>
</div>


<div style="width: 170px; height: 60px; left: 859px; top: 631px; position: absolute">
  <div style="width: 170px; height: 60px; left: 0px; top: 0px; position: absolute; background: #62B6B7; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.50); border-radius: 6px"></div>
  <div onclick="predictYolov8()" style="cursor: pointer; left: 48px; top: 15px; position: absolute; text-align: center; color: white; font-size: 24px; font-family: Roboto; font-weight: 400; word-wrap: break-word">Run YOLOv8</div>
</div>
<!-- <div id="yolov8Result" style="width: 500px; height: 100px; left: 300px; top: 700px; position: absolute; color: black; font-size: 18px; font-family: Roboto; font-weight: 400; word-wrap: break-word"></div> -->

 <!-- ======= End Upload ======= -->

<div style="width: 100%; height: 100%; position: relative; background: white">
  <div style="width: 264px; height: 1020px; left: 0px; top: 0px; position: absolute; background: white; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border: 1px white solid"></div>


  <div style="width: 1558px; height: 80px; left: 0px; top: 944px; position: absolute; background: #439A97"></div>
  <button onClick = "window.open('product.html')"> <img style="width: 40px; height: 40px; left: 8px; top: 101px; position: absolute" src="assets/img/back-1.png" /> </button>

  <div style="width: 162px; height: 31px; left: 8px; top: 245px; position: absolute; color: #159895; font-size: 20px; font-family: Roboto; font-weight: 500; word-wrap: break-word">Project lists</div>
 


  <!-- ======= Create Project======= -->
  <div style="width: 213px; height: 44px; left: 23px; top: 155px; position: absolute">
      <div style="width: 213px; height: 44px; left: 0px; top: 0px; position: absolute; background: #8ADAB2; box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25); border-radius: 30px"></div>
      <div style="left: 45px; top: 10px; position: absolute; color: white; font-size: 20px; font-family: Roboto; font-weight: 600; word-wrap: break-word">Create Project</div>
      <img style="width: 29px; height: 29px; left: 16px; top: 8px; position: absolute" src="assets/img/file-1.png" />
  </div>
  <div style="width: 264px; height: 48px; left: 0px; top: 283px; position: absolute">
      <div style="width: 264px; height: 48px; left: 0px; top: 0px; position: absolute">
          <div style="width: 264px; height: 48px; left: 0px; top: 0px; position: absolute; background: #E5FCF7"></div>
          <img style="width: 23.44px; height: 23px; left: 235.46px; top: 13px; position: absolute" src="assets/img/menu_icon.png" />
      </div>
      <img style="width: 29.56px; height: 29px; left: 8.15px; top: 11px; position: absolute; backdrop-filter: blur(4px)" src="assets/img/folder-1.png" />
      <div style="width: 215.07px; height: 35px; left: 43.83px; top: 13px; position: absolute; color: #159895; font-size: 20px; font-family: Roboto; font-weight: 600; word-wrap: break-word">Project</div>
  </div>

     
  </div>
  <div style="width: 1558px; height: 95px; left: 0px; top: 0px; position: absolute">

    <script>
   async function uploadAndShowImage() {
    const fileInput = document.getElementById('fileInput');
    const file = fileInput.files[0];

    const formData = new FormData();
    formData.append('file', file);

    const response = await fetch('/upload_file', {
        method: 'POST',
        body: formData,
    });

    const result = await response.json();

    const uploadResult = document.getElementById('uploadResult');
    uploadResult.innerHTML = `ผลลัพธ์: ${result.upload_result}`;
    uploadResult.style.color = '#0ad3f7';

    // Show the latest image after the upload
    showUploadedImage();

}
async function predictYolov8() {
    const response = await fetch('/predict_yolov8');
    const result = await response.text();
    document.getElementById('yolov8Result').innerHTML = result;
}

  //     function showLatestImage() {
  //   const latestImage = document.getElementById('latestImage');
  //   const fileInput = document.getElementById('fileInput');
  //   const file = fileInput.files[0];

  //   if (file) {
  //     const reader = new FileReader();
  //     reader.onload = function (e) {
  //       const img = document.createElement('img');
  //       img.src = e.target.result;
  //       img.style.maxWidth = '100%';
  //       latestImage.innerHTML = '';
  //       latestImage.appendChild(img);

  //       // Additionally, show the uploaded image immediately
  //       showUploadedImage();
  //     };
  //     reader.readAsDataURL(file);
  //   } else {
  //     latestImage.innerHTML = 'ไม่มีรูปภาพล่าสุด';
  //   }
  // }


  function showUploadedImage() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];

            if (file) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.style.maxWidth = '100%';

                    const uploadedImageContainer = document.getElementById('uploadedImageContainer');
                    uploadedImageContainer.innerHTML = '';
                    uploadedImageContainer.appendChild(img);

                    const viewImagePopup = document.getElementById('viewImagePopup');
                    viewImagePopup.style.display = 'block';
                };
                reader.readAsDataURL(file);
            } else {
                alert('ไม่มีรูปภาพที่จะแสดง');
            }
        }

        function closeViewImagePopup() {
            document.getElementById('viewImagePopup').style.display = 'none';
        }
 

  </script>
  
</main>

<div id="preloader"></div>
<a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>



</body>
</html>